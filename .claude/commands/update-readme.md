# README 更新コマンド

プロジェクトの実態を調査し、README.md の「事実セクション」を最新状態に同期します。
どのプロジェクトでも使用できる汎用コマンドです。

---

## 手順

### 1. プロジェクトを理解する

以下をすべて読んで、プロジェクトの現状を把握してください。

**既存の README を読む**
- `README.md` が存在する場合は全文を読み、現在の構成・記載方針を把握する
- README がない場合は新規作成モードで進める

**プロジェクトの種別を特定する**
以下のファイルが存在するか確認し、技術スタックを把握する：

| ファイル | 示すもの |
|---|---|
| `package.json` | Node.js プロジェクト |
| `pyproject.toml` / `setup.py` | Python プロジェクト |
| `go.mod` | Go プロジェクト |
| `Cargo.toml` | Rust プロジェクト |
| `Dockerfile` / `compose.yaml` | コンテナ構成あり |
| `Makefile` | ビルドタスク定義あり |
| `.claude/` | Claude Code 設定あり |

**ディレクトリ構造を調査する**
- トップレベルのディレクトリと主要ファイルを確認する
- src / lib / app / tests など主要ディレクトリの役割を推測する

**依存・設定ファイルを読む**
- `package.json` の `name`, `description`, `scripts` を確認する
- `pyproject.toml` の `[project]` セクションを確認する
- その他、プロジェクトの概要が書かれているファイルを確認する

---

### 2. 更新するセクションを判断する

README のセクションを以下の2種類に分類し、**事実セクションのみ**を更新します。

#### 更新する「事実セクション」（コードの実態を反映すべきもの）

- プロジェクト名・概要
- ディレクトリ構造・ファイル説明
- セットアップ・インストール手順
- 使い方・コマンド一覧（`npm run`, `make`, スラッシュコマンドなど）
- 設定ファイルの説明
- API・インターフェース一覧
- 依存ライブラリ

#### 更新しない「方針セクション」（人間の合意・思想が含まれるもの）

- チームの運用ルール・大原則
- アーキテクチャの設計思想
- コントリビューション方針
- ライセンス
- 変更ログ（CHANGELOG）

> 判断に迷う場合は「このセクションの内容はコードを読めば確認できるか？」を基準にする。
> コードから導出できるなら事実セクション、人間の意思決定なら方針セクション。

---

### 3. README.md を更新する

以下のルールに従って編集してください。

- **既存の文体・トーンを踏襲する**（ですます調 / である調など）
- **実際に存在するもの以外を記載しない**（ディレクトリ・コマンド・ファイルなど）
- **既存の方針セクションは一切変更しない**
- README がない場合は、プロジェクトの種別に合わせたテンプレートで新規作成する

---

### 4. 差分を確認して報告する

更新後に差分を確認し、変更内容をユーザに報告してください。

```bash
git diff README.md
```

報告フォーマット：
```
## 更新内容

### 変更したセクション
- `## セクション名`：（変更理由）

### 変更しなかったセクション
- `## セクション名`：（理由）
```

---

## 注意事項

- スコープは README.md のみ。他のドキュメントファイルは変更しない
- `git add` や `git commit` は行わない（別途 `/commit` で対応）
- README が非常に長い場合は、変更箇所のみを示した差分を提示してユーザの確認を得ること

---

$ARGUMENTS が指定された場合は、更新対象を絞り込んでください。
例：「インストール手順のみ」「ディレクトリ構造のみ」
